!function(a){"use strict";var b=a.module("net.enzey.services",[]);b.service("nzService",["$document","$timeout",function(b,c){var d=function(b){var c=[];b=a.element(b);for(var e=b.children(),f=0;f<e.length;f++)d(e[f]).forEach(function(a){c.push(a)});return c.push(b[0]),c};this.registerClickAwayAction=function(a){for(var e=null,f=[],g=1;g<arguments.length;g++)f.push(arguments[g]);e=function(c){var g=[];f.forEach(function(a){d(a).forEach(function(a){g.push(a)})}),-1===g.indexOf(c.target)&&(b.off("click",e),a(c))},c(function(){b.on("click",e)})};var e={HTMLEvents:{isEvent:function(a){return/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/.test(a)},fireEvent:function(a,c,d){var e=null;if(b[0].createEvent)e=document.createEvent("HTMLEvents"),e.initEvent(c,d.bubbles,d.cancelable),a.dispatchEvent(e);else{d.clientX=d.pointerX,d.clientY=d.pointerY;var f=b[0].createEventObject();e=extend(f,d),a.fireEvent("on"+c,e)}}},MouseEvents:{isEvent:function(a){return/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/.test(a)},fireEvent:function(a,c,d){var e=null;if(b[0].createEvent)e=document.createEvent("MouseEvents"),e.initMouseEvent(c,d.bubbles,d.cancelable,b[0].defaultView,d.button,d.pointerX,d.pointerY,d.pointerX,d.pointerY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.element),a.dispatchEvent(e);else{d.clientX=d.pointerX,d.clientY=d.pointerY;var f=b[0].createEventObject();e=extend(f,d),a.fireEvent("on"+c,e)}}}},f={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0};this.emulateEvent=function(b,c){var d=arguments[2]?arguments[2]:a.copy(f);d.element=d.element?d.element:b;var g=null;for(var h in e)if(e[h].isEvent(c)){g=e[h].fireEvent;break}if(!g)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");g(b,c,d)}}]),b.directive("nzTranscludedInclude",function(){return{restrict:"A",transclude:!0,templateUrl:function(a,b){return b[this.name]}}}),b.directive("nzFakeDocClick",["$document","$timeout","nzService",function(a,b,c){return{link:function(d,e){e.on("click",function(d){b(function(){c.emulateEvent(a[0].body,"click",d)},0,!1)})}}}])}(angular);